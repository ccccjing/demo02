(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47524ab2"],{"5e56":function(e,t,s){},"9ed6":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("ul",{staticClass:"bg-bubbles"},e._l(10,(function(e,s){return t("li",{key:s,staticClass:"bubbles"})})),0),t("el-form",{ref:"loginForm",staticClass:"form",attrs:{model:e.loginForm,rules:e.loginRules}},[t("div",{staticClass:"box"},[t("h2",{staticClass:"title"},[e._v("Login")])]),t("el-form-item",{staticClass:"box",attrs:{prop:"username"}},[t("label",{attrs:{for:"username"}},[e._v("账号：")]),t("el-input",{ref:"username",staticClass:"input",attrs:{id:"username",name:"username",type:"text",autocomplete:"off",placeholder:"请输入账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}}),t("br")],1),t("el-form-item",{staticClass:"box",attrs:{prop:"password"}},[t("label",{attrs:{for:"password"}},[e._v("密码：")]),t("el-input",{ref:"password",staticClass:"input",attrs:{id:"password",name:"password",type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),t("br")],1),t("div",{staticClass:"box"},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("注册")]),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("登录")])],1),t("span",{staticClass:"user"},[e._v("admin: 123456  ")]),t("span",{staticClass:"user"},[e._v("editor: 123456")])],1)],1)},a=[],i=(s("d9e2"),s("13d5"),s("61f7")),o={name:"Login",data(){const e=(e,t,s)=>{Object(i["b"])(t)?s():s(new Error("请输入账号"))},t=(e,t,s)=>{t.length<6?s(new Error("密码不少于6位")):s()};return{loading:!1,loginForm:{username:"admin",password:"111111"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:t}]}}},mounted(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},watch:{$route:{handler:function(e){const t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},methods:{handleLogin(){this.$refs.loginForm.validate(e=>{if(!e)return console.log("error submit!!"),!1;console.log("true"),this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then(()=>{this.loading=!1,this.$router.push({path:this.redirect||"/",query:this.otherQuery})}).catch(()=>{this.loading=!1})}),console.log(this.loginForm)},getOtherQuery(e){return Object.keys(e).reduce((t,s)=>("redirect"!==s&&(t[s]=e[s]),t),{})}}},n=o,l=(s("f0aa"),s("2877")),u=Object(l["a"])(n,r,a,!1,null,"5474d4b4",null);t["default"]=u.exports},f0aa:function(e,t,s){"use strict";s("5e56")}}]);
//# sourceMappingURL=chunk-47524ab2.4567cd75.js.map