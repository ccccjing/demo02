(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c8ed8422"],{"0413":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("ElementTable",{ref:"elementTable",attrs:{tableConfig:e.tableConfig,tableColumns:e.tableColumns,searchParams:e.searchParams,tableDataDetail:e.baseData},scopedSlots:e._u([{key:"handle",fn:function(a){return[t("div",{staticClass:"operates"},[30!==a.row.settleStatus?t("a",{attrs:{href:"javascript:;"}},[e._v("输入结算价")]):e._e(),10!==a.row.settleStatus?t("router-link",{attrs:{to:{name:"settle-build-detail",query:{sysType:a.row.sysType,tradeOrderId:a.row.tradeOrderId}}}},[e._v("查看")]):e._e()],1)]}}])})},i=[],n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"element-wrapper-table"},[e.defaultConfig.showSearch?t("div",{staticClass:"search-area"},[t("div",{staticClass:"search-form"},[e._t("search")],2),e.defaultConfig.showSearch?t("div",{staticClass:"search-btns"},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getTableData}},[t("i",{staticClass:"fa fa-search"}),e._v(" 搜索")]),t("el-button",{attrs:{size:"mini"},on:{click:e.resetTableData}},[t("i",{staticClass:"fa fa-undo"}),e._v(" 重置")])],1):e._e()]):e._e(),t("el-table",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.isShowLoading,expression:"isShowLoading"}],attrs:{data:e.tableDataDetail,stripe:"",border:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},"el-table",e.defaultConfig.tableProps,!1),[e.defaultConfig.showCheckBox?t("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":e.defaultConfig.checkStore}}):e._e(),e.defaultConfig.showIndex?t("el-table-column",{attrs:{type:"index",label:"序号"}}):e._e(),e.defaultConfig.showExpand?t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("expand",null,null,t)]}}],null,!0)}):e._e(),e._l(e.tableColumns,(function(a,l){return[a.slot?t("el-table-column",{key:`${a.prop}${l}`,attrs:{"render-header":a.renderHeader,label:a.label,align:a.align?a.align:"center",fixed:a.fixed,"min-width":e.flexColumnWidth(a.label,a.prop)<a.minWidth?a.minWidth:e.flexColumnWidth(a.label,a.prop)},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t(a.prop,null,null,t)]}}],null,!0)}):a.isFormatter?t("el-table-column",e._b({key:`${a.prop}_${l}`,attrs:{align:a.align?a.align:"center",prop:a.prop,fixed:a.fixed,"show-overflow-tooltip":a.isShowTooltip,"min-width":e.flexColumnWidth(a.label,a.prop)<a.minWidth?a.minWidth:e.flexColumnWidth(a.label,a.prop)}},"el-table-column",a,!1)):t("el-table-column",e._b({key:`${a.prop}-${l}`,attrs:{align:a.align?a.align:"center",prop:a.prop,fixed:a.fixed,"show-overflow-tooltip":a.isShowTooltip,"min-width":e.flexColumnWidth(a.label,a.prop)<a.minWidth?a.minWidth:e.flexColumnWidth(a.label,a.prop)},scopedSlots:e._u([{key:"default",fn:function(l){return[t("span",[e._v(e._s(l.row[""+a.prop]))])]}}],null,!0)},"el-table-column",a,!1))]}))],2),e.defaultConfig.isShowPagination?t("el-pagination",{attrs:{"current-page":e.defaultConfig.pagination.currentPage,"page-sizes":e.defaultConfig.pagination.pageSize,"page-size":e.defaultConfig.pagination.currentSize,layout:e.defaultConfig.pagination.layout,total:e.defaultConfig.pagination.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)},r=[],o=(a("13d5"),{props:{tableConfig:{type:Object,default:()=>{}},tableColumns:{type:Array,default:()=>[]},searchParams:{type:Object,default:()=>{}},constantParams:{type:Object,default:()=>{}},tableDataDetail:{type:Array,default:()=>[]}},data(){return{isShowLoading:!1,tableData:[],defaultConfig:{showSearch:!1,showExpand:!1,tableProps:{border:!0,maxHeight:500,emptyText:"没有可以用来显示的数据",rowKey:"id"},ajax:{methods:"post",url:"",resKey:"recordList",totalKey:"totalCount"},isShowPagination:!1,pagination:{layout:"total, sizes, prev, pager, next, jumper",pageSize:[10,20,30,40],currentSize:10,currentPage:1,totalCount:0}}}},watch:{tableConfig:{handler(e){this.getConfig(e,this.defaultConfig)},deep:!0,immediate:!0}},mounted(){},methods:{getTableData(){},resetTableData(){this.$emit("resetData")},getConfig(e,t){Object.keys(e).forEach(a=>{"object"===typeof e[a]&&null!==e[a]?t[a]={...t[a],...e[a]}:t[a]=e[a]}),console.log(e,this.defaultConfig)},handleSelectionChange(e){this.$emit("selectData",e)},handleSizeChange(e){this.defaultParams.numPage=e,this.getTableData()},handleCurrentChange(e){this.defaultParams.page=e,this.getTableData()},getMaxLength(e){return e.reduce((e,t)=>{if(t){const a=this.getTextWidth(t);e<a&&(e=a)}return e},0)},getTextWidth(e){let t=0;const a=document.createElement("span");return a.innerText=e,a.className="getTextWidth",document.querySelector("body").appendChild(a),t=document.querySelector(".getTextWidth").offsetWidth,document.querySelector(".getTextWidth").remove(),t},flexColumnWidth(e,t){const a=this.tableDataDetail.map(e=>e[t]);return a.push(e),this.getMaxLength(a)+30}}}),s=o,d=(a("2139"),a("2877")),u=Object(d["a"])(s,n,r,!1,null,"43bd8f32",null),p=u.exports,m={components:{ElementTable:p},data(){return{baseData:[],tableColumns:[{prop:"serialNum",label:"交易流水号",minWidth:120,align:"left",isShowTooltip:!0,fixed:"left"},{prop:"sysTypeName",label:"签约主体",minWidth:240,isFormatter:!0,isShowTooltip:!0,formatter:(e,t,a)=>{let l={1:"上海钢银电子商务股份有限公司",2:"海钢银供应链管理有限公司",3:"上海咏鑫实业有限公司"};return l[a]}},{prop:"sellTypeName",label:"业务类型",minWidth:120,align:"left"},{prop:"projectName",label:"项目名称",align:"left",minWidth:120},{prop:"jjfName",label:"居间方",align:"left",minWidth:120},{prop:"buyerName",label:"买家名称",align:"left",minWidth:120},{prop:"sellMemberName",label:"卖家名称",align:"left",isShowTooltip:!0,minWidth:120},{prop:"applyAdminName",label:"项目经理",align:"left",minWidth:120},{prop:"orderTime",label:"下单日期",align:"left",minWidth:120},{prop:"deliveryAuditStatus",label:"送货单状态",align:"left",minWidth:120,isFormatter:!0,formatter:(e,t,a)=>{let l={0:"待确认",1:"审核中",2:"通过",3:"驳回"};return l[a]}},{prop:"settledWeight",label:"已结算数量",align:"left",minWidth:120},{prop:"notSettleWeight",label:"未结算数量",align:"left",minWidth:120},{prop:"settleStatus",label:"结算状态",align:"left",minWidth:120,isFormatter:!0,formatter:(e,t,a)=>{let l={10:"未结算",20:"部分结算",30:"结算完成",90:"驳回"};return l[a]}},{prop:"settledNumber",label:"已结算件数",align:"left",minWidth:120},{prop:"notSettleNumber",label:"未结算件数",align:"left",minWidth:120},{prop:"handle",label:"操作",minWidth:180,fixed:"right",slot:!0}],tableConfig:{}}},computed:{searchParams(){return this.$route.query}},methods:{getOriginData(){this.baseData=[{applyAdminName:"张巍巍",buyerName:"无锡钢材贸易公司",canSettle:!1,deliveryAuditStatus:1,deliveryAuditStatusName:"非直销",id:10,jjfName:"江西钢铁交易",notSettleNumber:10,notSettleWeight:10,orderTime:"2021-09-27",projectName:"供应链非直销下单",realNumber:10,realWeight:10,sellMemberName:"上海咏鑫实业有限公司",sellType:"1",sellTypeName:"非直销",serialNum:"CS160526X000160485",settleStatus:20,settleStatusName:"未结算",settledNumber:10,settledWeight:10,sysType:1,sysTypeName:"1",tradeOrderId:10,weightUnit:"吨"},{applyAdminName:"张巍巍",buyerName:"无锡钢材贸易公司",canSettle:!1,deliveryAuditStatus:1,deliveryAuditStatusName:"非直销",id:11,jjfName:"江西钢铁交易12332112232132",notSettleNumber:10,notSettleWeight:10,orderTime:"2021-09-27",projectName:"供应链非直销下单",realNumber:10,realWeight:10,sellMemberName:"上海咏鑫实业有限公司",sellType:"1",sellTypeName:"非直销",serialNum:"CS160526X000160485",settleStatus:20,settleStatusName:"未结算",settledNumber:10,settledWeight:10,sysType:1,sysTypeName:"1",tradeOrderId:10,weightUnit:"吨"}]}},mounted(){this.getOriginData()}},h=m,f=Object(d["a"])(h,l,i,!1,null,null,null);t["default"]=f.exports},2139:function(e,t,a){"use strict";a("d269")},d269:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c8ed8422.8219d53c.js.map