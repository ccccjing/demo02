{"version":3,"sources":["webpack:///./src/views/login/index.vue","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?a2f2","webpack:///./src/views/login/index.vue?b0dd","webpack:///./src/views/login/index.vue?fdb4"],"names":["render","_vm","this","_c","_self","staticClass","_l","item","index","key","ref","attrs","loginForm","loginRules","_v","model","value","username","callback","$$v","$set","expression","password","staticStyle","nativeOn","$event","preventDefault","handleLogin","apply","arguments","loading","staticRenderFns","name","data","required","trigger","validator","message","mounted","watch","$route","handler","immediate","methods","console","then","path","query","catch","getOtherQuery","acc","component"],"mappings":"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","file":"static/js/chunk-47524ab2.4567cd75.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('ul',{staticClass:\"bg-bubbles\"},_vm._l((10),function(item,index){return _c('li',{key:index,staticClass:\"bubbles\"})}),0),_c('el-form',{ref:\"loginForm\",staticClass:\"form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"Login\")])]),_c('el-form-item',{staticClass:\"box\",attrs:{\"prop\":\"username\"}},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"账号：\")]),_c('el-input',{ref:\"username\",staticClass:\"input\",attrs:{\"id\":\"username\",\"name\":\"username\",\"type\":\"text\",\"autocomplete\":\"off\",\"placeholder\":\"请输入账号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}}),_c('br')],1),_c('el-form-item',{staticClass:\"box\",attrs:{\"prop\":\"password\"}},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"密码：\")]),_c('el-input',{ref:\"password\",staticClass:\"input\",attrs:{\"id\":\"password\",\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}}),_c('br')],1),_c('div',{staticClass:\"box\"},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_vm._v(\"注册\")]),_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_vm._v(\"登录\")])],1),_c('span',{staticClass:\"user\"},[_vm._v(\"admin: 123456  \")]),_c('span',{staticClass:\"user\"},[_vm._v(\"editor: 123456\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @description: description\r\n * @fileName: index.vue\r\n * @author: pierce\r\n * @lastDate: 2022-08-25 15:04:05\r\n!-->\r\n\r\n<template>\r\n  <div class=\"login\">\r\n    <ul class=\"bg-bubbles\">\r\n      <li class=\"bubbles\" v-for=\"(item, index) in 10\" :key=\"index\"></li>\r\n    </ul>\r\n    <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" class=\"form\">\r\n      <div class=\"box\">\r\n        <h2 class=\"title\">Login</h2>\r\n      </div>\r\n\r\n      <el-form-item class=\"box\" prop=\"username\">\r\n        <label for=\"username\">账号：</label>\r\n        <el-input\r\n          class=\"input\"\r\n          ref=\"username\"\r\n          id=\"username\"\r\n          name=\"username\"\r\n          type=\"text\"\r\n          autocomplete=\"off\"\r\n          placeholder=\"请输入账号\"\r\n          v-model=\"loginForm.username\"\r\n        /><br />\r\n      </el-form-item>\r\n\r\n      <el-form-item class=\"box\" prop=\"password\">\r\n        <label for=\"password\">密码：</label>\r\n        <el-input\r\n          ref=\"password\"\r\n          class=\"input\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"请输入密码\"\r\n          v-model=\"loginForm.password\"\r\n        /><br />\r\n      </el-form-item>\r\n\r\n      <div class=\"box\">\r\n        <!-- <input class=\"button\" type=\"button\" value=\"注册\" />\r\n        <input class=\"button\" type=\"submit\" value=\"登录\" /> -->\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"width:100%\"\r\n          @click.native.prevent=\"handleLogin\"\r\n          size=\"mini\"\r\n        >注册</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"width:100%\"\r\n          @click.native.prevent=\"handleLogin\"\r\n          :loading='loading'\r\n        >登录</el-button>\r\n      </div>\r\n      <span class=\"user\">admin: 123456&nbsp;&nbsp;</span>\r\n      <span class=\"user\">editor: 123456</span>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { validUsername } from '@/utils/validate'\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data () {\r\n    const validateUserName = (rule, value, callback) => {\r\n      if (!validUsername(value)) {\r\n        callback(new Error('请输入账号'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    const validatePassword = (rule, value, callback) => {\r\n      if (value.length < 6) {\r\n        callback(new Error('密码不少于6位'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        username: 'admin',\r\n        password: '111111',\r\n      },\r\n      loginRules: {\r\n        username: [{ required: true, trigger: 'blur', validator: validateUserName }],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur',  },\r\n          { validator: validatePassword }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.loginForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.loginForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function(route) {\r\n        const query = route.query\r\n        if (query) {\r\n          this.redirect = query.redirect\r\n          this.otherQuery = this.getOtherQuery(query)\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleLogin() {\r\n      this.$refs.loginForm.validate(valid => {\r\n        if (valid) {\r\n          console.log('true')\r\n          this.loading = true\r\n          this.$store.dispatch('user/login', this.loginForm)\r\n            .then(() => {\r\n              this.loading = false\r\n              this.$router.push({ path: this.redirect || '/', query: this.otherQuery})\r\n            })\r\n            .catch(() => {\r\n              this.loading = false\r\n            })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n      console.log(this.loginForm)\r\n    },\r\n    getOtherQuery(query) {\r\n      return Object.keys(query).reduce((acc, cur) => {\r\n        if (cur !== 'redirect') {\r\n          acc[cur] = query[cur]\r\n        }\r\n        return acc\r\n      }, {})\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n  position: relative;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  .bg-bubbles {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(to bottom right, #50a3a2, #53e3a6);\r\n    .bubbles {\r\n      position: absolute;\r\n      // 从底部冒出\r\n      bottom: -160px;\r\n      width: 40px;\r\n      height: 40px;\r\n      background-color: skyblue;\r\n      // 使用动画，时间，无限循环\r\n      animation: square 15s infinite;\r\n      // 相同的速度开始到结束\r\n      transition-timing-function: linear;\r\n      border-radius: 50%;\r\n      &:nth-child(1) {\r\n        left: 10%;\r\n      }\r\n      &:nth-child(2) {\r\n        left: 20%;\r\n        width: 90px;\r\n        height: 90px;\r\n        animation-delay: 2s;\r\n        animation-direction: 7s;\r\n      }\r\n      &:nth-child(3) {\r\n        left: 25%;\r\n        animation-delay: 4s;\r\n      }\r\n      &:nth-child(4) {\r\n        left: 40%;\r\n        width: 60px;\r\n        height: 60px;\r\n        animation-direction: 8s;\r\n        background-color: rgba(255, 255, 255, 0.3);\r\n      }\r\n      &:nth-child(5) {\r\n        left: 70%;\r\n      }\r\n      &:nth-child(6) {\r\n        left: 80%;\r\n        width: 120px;\r\n        height: 120px;\r\n        animation-delay: 3s;\r\n        background-color: rgba(255, 255, 255, 0.2);\r\n      }\r\n      &:nth-child(7) {\r\n        left: 32%;\r\n        width: 160px;\r\n        height: 160px;\r\n        animation-delay: 2s;\r\n      }\r\n      &:nth-child(8) {\r\n        left: 55%;\r\n        width: 20px;\r\n        height: 20px;\r\n        animation-delay: 4s;\r\n        animation-direction: 15s;\r\n      }\r\n      &:nth-child(9) {\r\n        left: 25%;\r\n        width: 10px;\r\n        height: 10px;\r\n        animation-delay: 2s;\r\n        animation-direction: 12s;\r\n        background-color: rgba(255, 255, 255, 0.3);\r\n      }\r\n      &:nth-child(10) {\r\n        left: 85%;\r\n        width: 160px;\r\n        height: 160px;\r\n        animation-delay: 5s;\r\n      }\r\n    }\r\n  }\r\n\r\n  .form {\r\n    position: absolute;\r\n    top: 38%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 40%;\r\n    max-width: 380px;\r\n    min-width: 350px;\r\n    height: 40%;\r\n    padding: 20px;\r\n    background-color: #50a3a2;\r\n    opacity: .8;\r\n    color: #fff;\r\n    .box {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 50px;\r\n      padding-bottom: 18px;\r\n      box-sizing: border-box;\r\n      display: flex;\r\n      &:last-child {\r\n        padding: 0;\r\n        height: 70px;\r\n      }\r\n      .title {\r\n        width: 100%;\r\n        text-align: center;\r\n      }\r\n      label {\r\n        flex: 1;\r\n        text-align: left;\r\n        line-height: 34px;\r\n        text-align: right;\r\n        cursor: pointer;\r\n      }\r\n      .input {\r\n        flex: 4;\r\n        width: 77%;\r\n        border: 1px solid #53e3a6;\r\n        padding: 6px;\r\n        border-radius: 6px;\r\n        color: #9b9b9b;\r\n        cursor: pointer;\r\n        &::-webkit-input-placeholder {\r\n          color: #ccc;\r\n        }\r\n      }\r\n      .captchaImg {\r\n        position: absolute;\r\n        top: 3px;\r\n        right: 6px;\r\n        width: 68px;\r\n        height: 25px;\r\n      }\r\n      .box-code {\r\n        position: absolute;\r\n        top: 4px;\r\n        right: 6px;\r\n        width: 66px;\r\n        height: 23px;\r\n        line-height: 23px;\r\n        color: #50a3a2;\r\n        font-size: 12px;\r\n        text-align: center;\r\n        border: 1px solid #50a3a2;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n      }\r\n      .button {\r\n        width: 80px;\r\n        height: 34px;\r\n        border: 1px solid #53e3a6;\r\n        margin: 0 60px;\r\n        border-radius: 6px;\r\n        background-color: #50a3a2;\r\n        color: #fff;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    .user {\r\n      float: left;\r\n      top: 50px;\r\n    }\r\n  }\r\n}\r\n\r\n/deep/ .el-form-item__content {\r\n  width: 100%;\r\n}\r\n\r\n:deep() .el-form-item__error {\r\n  top: 150%;\r\n  left: 35%;\r\n}\r\n\r\n// 动画\r\n@keyframes square {\r\n  0% {\r\n    opacity: 0.5;\r\n    transform: translateY(0) rotate(45deg);\r\n  }\r\n  25% {\r\n    opacity: 0.75;\r\n    transform: translateY(-400px) rotate(90deg);\r\n  }\r\n  50% {\r\n    opacity: 1;\r\n    transform: translateY(-600px) rotate(135deg);\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateY(-1000px) rotate(180deg);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5474d4b4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5474d4b4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5474d4b4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5474d4b4&prod&lang=scss&scoped=true&\""],"sourceRoot":""}